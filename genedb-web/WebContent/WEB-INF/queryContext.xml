<?xml version="1.0" encoding="UTF-8" ?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:util="http://www.springframework.org/schema/util"
	xmlns:dwr="http://www.directwebremoting.org/schema/spring-dwr"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
	http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd
        http://www.directwebremoting.org/schema/spring-dwr http://www.directwebremoting.org/schema/spring-dwr-2.0.xsd"
	default-init-method="postConstruction">


	<!-- Register a bean factory post processor to convert query templates into query objects-->
	<bean id="queryBeanGenerator" class="org.genedb.query.QueryBeanGenerator" />

	<!-- HQL Query templates -->
    <bean id="hqlQueryTemplateParent" abstract="true">
        <property name="sessionFactory" ref="sessionFactory" />
    </bean>
        
    <bean id="_GenesByDnaLength" class="org.genedb.query.hql.HqlQueryTemplate" parent="hqlQueryTemplateParent">
        <property name="name" value="GenesByDnaLength" />
        <property name="hql" value="select uniquename from feature where length > :min and length &lt; :max" />
        <property name="params">
            <util:list>
                <bean class="org.genedb.query.core.Parameter">
                    <property name="name" value="min" />
                    <property name="class" value="java.lang.Integer"/>
                </bean>
                <bean class="org.genedb.query.core.Parameter">
                    <property name="name" value="max" />
                    <property name="class" value="java.lang.Integer"/>
                </bean>
                <!-- <q:param name="max" class="Integer" help="The maximum no. of bases to search for" /> -->
            </util:list>
        </property>
    </bean>
    
    
	
	<!-- Manually written query beans -->
	<bean id="GeneByURI" class="org.genedb.query.GenesByURI" />
	

</beans>
