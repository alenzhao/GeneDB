<project name="Jogra" default="jar" basedir=".">

    <!-- edit the following lines to your needs -->
    <target name="init">
    <property name="project_name" value="Jogra"/>
    <property name="srcDir" value="src"/>
    <property name="build.dir" value="ant-build"/>
    <property name="jar" value="${project_name}.jar"/>
    <mkdir dir="${build.dir}" />
    <mkdir dir="${build.dir}/classes" />
    </target>

	<path id="classpath">
		<fileset dir="lib" id="id">
    		<include name="*.jar"/>
		</fileset>
		<!--<fileset dir="/Users/art/Software/UnixApp/apache-tomcat-5.5.15/common/lib">
    		<include name="*.jar"/>
		</fileset>-->
		<fileset file="../genedb-domain/genedb-domain.jar" />
		<fileset dir="../genedb-libs/lib" id="id">
    		<include name="*.jar"/>
		</fileset>
	</path>

    <!-- compile -->
    <target name="compile" depends="init">
      <javac srcdir="${srcDir}" includes="**/*.java" debug="true"
        destdir="${build.dir}/classes" classpathref="classpath">
      </javac>
    </target>

    <!-- create .jar -->
    <target name="jar" depends="compile">
    	<delete file="${build.dir}/${jar}" />
      <jar jarfile="${build.dir}/${jar}"
        basedir="${build.dir}/classes"
      	manifest="etc/manifest.txt">
      	<fileset dir="conf" />
      </jar>
    </target>
	
	<target name="signed-jar" depends="jar">
		<jar destfile="Jogra-tmp.jar">
		    <zipgroupfileset dir="${build.dir}" includes="${jar}"/>
		    <zipgroupfileset dir="lib" 
		    	includes="EventBus-1.1.jar, log4j-1.2.9.jar, commons-logging.jar,myswing.jar,swingx-0.9.2.jar,forms-1.1.0.jar"/>
			<zipgroupfileset dir="../genedb-libs/lib/" includes="spring-2.5.jar" />
			<zipgroupfileset dir="../genedb-domain/" includes="genedb-domain.jar" />
			<zipgroupfileset dir="../genedb-db/ant-build/jars" includes="chado-interface.jar" />
		</jar>
		
		
    </target>


    <!-- removes all that has been built -->
    <target name="clean" depends="init">
      <delete dir="${build.dir}" includeEmptyDirs="true" />
    </target>
  </project>

  <!-- end file build.xml -->