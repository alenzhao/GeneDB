<?xml version="1.0"?>

<project name="genedb-access" default="genedb-access.jar" basedir=".">
	
	<property file="property-file.${load}" />
	
	<target name="get-latest-jars" depends="" 
		description="Copy over JAR files from other projects">
		<copy file="../genedb-db/ant-build/jars/genedb-hibernate.jar" todir="lib" />
		<copy file="../genedb-db/ant-build/jars/chado-interface.jar" todir="lib" />
	</target>
	
	<target name="compile">
		<javac srcdir="src" destdir="ant-build/classes" debug="true">
			<classpath path="lib/chado-interface.jar"/>
			<classpath path="lib/biojava-1.4.jar"/>
			<classpath path="lib/commons-logging.jar"/>
			<classpath path="lib/persistence.jar"/>
			<classpath path="lib/hibernate-annotations.jar"/>
			<classpath path="lib/hibernate3.jar"/>
			<classpath path="lib/genedb-hibernate.jar"/>
			<classpath path="lib/spring-2.1-m3.jar"/>
			<classpath path="lib/saxon8.jar"/>
			<classpath path="lib/saxon8-xom.jar"/>
			<classpath path="lib/xom-1.0.jar"/>
		</javac>
	</target>
	
	<target name="replace">
		<copy file="property-file.${load}" tofile="resources/project.properties" />
	</target>
	
	<target name="genedb-access.jar" depends="compile" description="Create JAR file">
		<delete file="genedb-access.jar"/>
		
		<copy todir="ant-build/jar">
			<fileset dir="ant-build/classes" />
			<fileset dir="resources" />
		</copy>
		
		<jar jarfile="genedb-access.jar">
			<fileset dir="ant-build/jar" />
			<manifest>
				<attribute name="Implementation-Title" value="GeneDB Loading"/>
				<attribute name="Implementation-Version" value="0.1"/>
				<attribute name="Main-class" value="org.genedb.db.loading.NewRunner" />
			</manifest>
		</jar>
	</target>
	
	<path id="exec-classpath">
		<fileset file="lib/*.jar" />
		<fileset file="genedb-access.jar" />
		<fileset dir="resources/"/>
	</path>
	
	<target name="load-goAssociation" depends="genedb-access.jar">
			<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.Goa2GeneDB">
				<arg line="path-to-GOAssociationFile"/>
				<jvmarg line="-server"/>
			</java>
	</target>
	
	<target name="load-UPenn-data" depends="genedb-access.jar">
				<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.Cluster2GeneDB">
					<arg line="path-to-UPenn-file"/>
					<jvmarg line="-server"/>
				</java>
	</target>
	
	<target name="load-spombe" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Spombe /nfs/pathdbdev/work/art/chado_data/pombe/Spombe.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-twhipplei" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Twhipplei /nfs/pathdb/prod/data/input/twhipplei/twhipplei.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-tbrucei" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Tbruceibrucei927 /nfs/pathdbdev/work/art/chado_data/tryp/tbrucei.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-senteritidisPT4" depends="genedb-access.jar">
			<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
				<arg line="Senteritidis_PT4 /software/pathogen/projects/genedb/cp2/mh3Data/Salmonela/SEN.config.xml"/>
				<jvmarg line="-server"/>
			</java>
	</target>
	
	<target name="ortho-senteritidisPT4" depends="genedb-access.jar">
			<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.ExtractOrthologueData">
				<arg line="Senteritidis_PT4 /software/pathogen/projects/genedb/cp2/mh3Data/Salmonela/SEN.config.xml"/>
				<jvmarg line="-server"/>
			</java>
	</target>
	
	<target name="ortho-load-sept4" depends="genedb-access.jar">
			<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.OrthoStoreRunner">
				<arg line="/software/pathogen/projects/genedb/cp2/mh3Data/Salmonela/Senteritidis_PT4.orthologue.xml"/>
				<jvmarg line="-server"/>
			</java>
	</target>
	
	<target name="interpro-sept4" depends="genedb-access.jar">
			<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.LoadInterPro">
				<arg line="/software/pathogen/projects/genedb/cp2/mh3Data/Salmonela/merged_SEN.raw"/>
				<jvmarg line="-server"/>
			</java>
	</target>
	
	<target name="load-sgallinarum287" depends="genedb-access.jar">
				<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
					<arg line="Sgallinarum287 /software/pathogen/projects/genedb/cp2/mh3Data/Salmonela/SGAL.config.xml"/>
					<jvmarg line="-server"/>
				</java>
	</target>
	
	<target name="ortho-sgallinarum287" depends="genedb-access.jar">
				<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.ExtractOrthologueData">
					<arg line="Sgallinarum287 /software/pathogen/projects/genedb/cp2/mh3Data/Salmonela/SGAL.config.xml"/>
					<jvmarg line="-server"/>
				</java>
	</target>
	
	<target name="ortho-load-sgallinarum287" depends="genedb-access.jar">
				<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.OrthoStoreRunner">
					<arg line="/software/pathogen/projects/genedb/cp2/mh3Data/Salmonela/Sgallinarum287.orthologue.xml"/>
					<jvmarg line="-server"/>
				</java>
	</target>
	
	<target name="interpro-sgal287" depends="genedb-access.jar">
				<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.LoadInterPro">
					<arg line="/software/pathogen/projects/genedb/cp2/mh3Data/Salmonela/merged_SGAL.raw"/>
					<jvmarg line="-server"/>
				</java>
	</target>
	
	<target name="ortho-tbrucei" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.ExtractOrthologueData">
			<arg line="Tbruceibrucei927 /nfs/pathdbdev/work/art/chado_data/tryp/tbrucei.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-tcruzi" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Tcruzi /nfs/pathdbdev/work/art/chado_data/tcruzi/tcruzi.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="ortho-tcruzi" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.ExtractOrthologueData">
			<arg line="Tcruzi /nfs/pathdbdev/work/art/chado_data/tcruzi/tcruzi.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-lmajor" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Lmajor /nfs/pathdbdev/work/art/chado_data/lmajor/lmajor.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-pchabaudi" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Pchabaudi /nfs/pathdbdev/work/art/chado_data/pchabaudi/pchabaudi.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-pyoelii" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Pyoelii /nfs/pathdbdev/work/art/chado_data/pyoelii/pyoelii.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-pvivax" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Pvivax /nfs/pathdbdev/work/art/chado_data/pvivax/pvivax.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="ortho-lmajor" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.ExtractOrthologueData">
			<arg line="Lmajor /nfs/pathdbdev/work/art/chado_data/lmajor/lmajor.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-smansoni" depends="replace,genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Smansoni /nfs/pathdb/prod/data/input/smansoni/smansoni.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-pfalciparum" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Pfalciparum /nfs/pathdb/prod/data/input/malaria/pfalciparum.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="ortho-pfalciparum" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.ExtractOrthologueData">
			<arg line="Pfalciparum /nfs/pathdb/prod/data/input/malaria/pfalciparum.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-pberghei" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Pberghei /nfs/pathdb/prod/data/input/pberghei/pberghei.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-pknowlesi" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Pknowlesi /nfs/pathdb/prod/data/input/pknowlesi/pknowlesi.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="ortho-pknowlesi" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.ExtractOrthologueData">
			<arg line="Pknowlesi /nfs/pathdb/prod/data/input/pknowlesi/pknowlesi.config.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	
	<target name="load-bfragilis" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Bfragilis_NCTC9343 /nfs/pathdb/prod/data/input/bfragilis/bfragilis.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-bpseudomallei" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Bpseudomallei /nfs/pathdb/prod/data/input/bpseudomallei/bpseudomallei.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	
	<target name="load-bronchi" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Bbronchiseptica /nfs/pathdb/prod/data/input/bronchi/bronchi.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-cabortus" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Cabortus /nfs/pathdb/prod/data/input/cabortus/cabortus.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-cdubliniensis" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Cdubliniensis /nfs/pathdb/prod/data/input/cdubliniensis/cdubliniensis.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-cjejuni" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Cjejuni /nfs/pathdbdev/work/art/chado_data/cjejuni/cjejuni.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-dicty" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Ddiscoideum /nfs/pathdb/prod/data/input/dicty/dicty.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-diphtheria" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Cdiphtheriae /nfs/pathdb/prod/data/input/diphtheria/diphtheria.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-ecarot" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Ecarotovora /nfs/pathdb/prod/data/input/ecarot/ecarot.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-ehuxleyi" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Ehuxleyi /nfs/pathdb/prod/data/input/ehuxleyi/ehuxleyi.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-mleprae" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Mleprae /nfs/pathdb/prod/data/input/mleprae/mleprae.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-parapert" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Bparapertussis /nfs/pathdb/prod/data/input/parapert/parapert.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-pert" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Bpertussis /nfs/pathdb/prod/data/input/pert/pert.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-rleguminosarum" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Rleguminosarum /nfs/pathdb/prod/data/input/rleguminosarum/rleguminosarum.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-saureusMRSA" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Saureus_MRSA252 /nfs/pathdb/prod/data/input/saureusMRSA/saureusMRSA.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-saureusMSSA" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Saureus_MSSA476 /nfs/pathdb/prod/data/input/saureusMSSA/saureusMSSA.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-scoelicolor" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Scoelicolor /nfs/pathdb/prod/data/input/scoelicolor/scoelicolor.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-spyogenes" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Spyogenes /nfs/pathdb/prod/data/input/spyogenes/spyogenes.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-SE" depends="genedb-access.jar">
			<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
				<arg line="Sequi /software/pathogen/projects/genedb/cp2/mh3Data/Strep_Chado/SE.config.xml"/>
				<jvmarg line="-server"/>
			</java>
	</target>
	
	<target name="load-suberis" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Suberis /nfs/pathdb/prod/data/input/suberis/suberis.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-ypestis" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Ypestis /nfs/pathdb/prod/data/input/ypestis/ypestis.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-asp" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Afumigatus /nfs/pathdb/prod/data/input/asp.new/asp.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-bcenocepacia" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
			<arg line="Bcenocepacia /nfs/pathdb/prod/data/input/bcenocepacia/bcenocepacia.config.xml web"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-etenella" depends="genedb-access.jar">
			<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.NewRunner">
				<arg line="Etenella /nfs/pathdb/prod/data/input/etenella/etenella.auto.config.xml"/>
				<jvmarg line="-server"/>
			</java>
	</target>
	
	<target name="load-good-data" 
		depends="load-asp, load-twhipplei, load-bpseudomallei, load-bronchi, load-cdubliniensis, load-diphtheria, load-parapert, load-pert, load-saureusMRSA, load-saureusMSSA" />

	<target name="load-orthologues-from-xml" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.OrthoStoreRunner">
			<arg line="Lmajor.orthologue.xml Tbruceibrucei927.orthologue.xml Pfalciparum.orthologue.xml  Tcruzi.orthologue.xml Pknowlesi.orthologue.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
	<target name="load-orthologues-from-tab" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.OrthoStoreRunner">
			<arg line="upenn.orthologue.tab"/>
			<jvmarg line="-server"/>
		</java>
	</target>

	<target name="load-malaria-orthologues" depends="genedb-access.jar">
		<java fork="true" classpathref="exec-classpath" classname="org.genedb.db.loading.OrthoStoreRunner">
			<arg line="all_orthomcl.out Pfalciparum.orthologue.xml Pknowlesi.orthologue.xml"/>
			<jvmarg line="-server"/>
		</java>
	</target>
	
</project>
